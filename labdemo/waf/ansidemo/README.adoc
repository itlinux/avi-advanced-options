= Ansible Demo 


== Steps to create and add run the playbook

Create two files:
1 avictl.yml
2 variables.yml 

The should look like this:
----
AVI_CREDENTIALS:
  username: "admin"
  password: "yourpassword"
  controller: "yourcontroller"
  api_version: "21.1.3"
----

The second is close to the avictl, which we use for creating the policy but this one we use to add a few rules.
----
AVI_CREDENTIALS:
  username: "admin"
  password: "yourpassword"
  controller: "yourcontroller"
  api_version: "21.1.3"

WAF_POLICY_NAME: sample_wafpolicy
ENFORCEMENT_MODE: enforcement  
#options available: detecton/enforcement
----

=== Execute the playbook 

.To create the policy
----
ansible-playbook  create_policy.yml -e=@avictl.yml
----

.Adding rules to the policy
----
ansible-playbook log4j-pre-crs.yml  -e @variables.yml
----

